dp 的同时，acs保存输出结果  pku 1141 - xyzhk01的专栏 - 博客频道 - CSDN.NET

1.此题主要的难点在于对输出结果的保存。dp过程黑书上有（在P114）。
自己的代码// acs保存输出结果
#include<iostream>
#include<string.h>
#define INF 0x3ffffff
using namespace std;
int dp[102][102];
char acs[102][102][202];
int main()
{
    char str[105];
    for(int i=1;i<=100;i++)
    {   dp[i][i]=1;
        dp[i][i-1]=0;
    }
    cin>>str;
       int len=strlen(str);
    	//memset(dp,0x3ffffff,sizeof(dp));
    	for(int i=1;i<=len;i++)
    	{   if(str[i-1]=='('||str[i-1]==')')
    	       strcpy(acs[i][i],"()");
            else strcpy(acs[i][i],"[]");
            //cout<<acs[i][i]<<" i "<<i<<endl;
        }
        for(int i=1;i<len;i++)
           for(int j=1;j+i<=len;j++)
           {   dp[j][j+i]=INF;
               if(str[j-1]=='('&&str[j+i-1]==')')
               {  if(dp[j][j+i]> dp[j+1][j+i-1])
                  {   dp[j][j+i]=dp[j+1][j+i-1];
                      dp[j][j+i]=dp[j+1][j+i-1];
                      acs[j][j+i][0]='(';
                      strcpy(acs[j][j+i]+1,acs[j+1][j+i-1]);
                      int l=strlen(acs[j+1][j+i-1]);
                      acs[j][j+i][1+l]=')';
                      acs[j][j+i][2+l]='/0';
                  }
               }else if(str[j-1]=='['&&str[j-1+i]==']')
               {   if(dp[j][j+i]>dp[j+1][j+i-1])
                   {   dp[j][j+i]=dp[j+1][j+i-1];
                       acs[j][j+i][0]='[';
                       strcpy(acs[j][j+i]+1,acs[j+1][j+i-1]);
                       int l=strlen(acs[j+1][j+i-1]);
                       acs[j][j+i][1+l]=']';
                       acs[j][j+i][2+l]='/0';
                   }
               }
               for(int k=j;k<j+i;k++)
               {
                   if(dp[j][j+i] > dp[j][k]+dp[k+1][j+i])
                   {   dp[j][j+i] = dp[j][k]+dp[k+1][j+i];
                       strcpy(acs[j][j+i],acs[j][k]);
                       strcat(acs[j][j+i],acs[k+1][j+i]);
                   }
               }
           }
        cout<<acs[1][len]<<endl;
     system("pause");
    return 0;
}
2.在//http://www.cppblog.com/proyao/archive/2009/05/19/83334.aspx 上有stl版本的 ，他的清楚很多
