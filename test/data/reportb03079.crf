poj	eng	N	Y	B-OJ
 	x	N	N	I-OJ
3517	m	N	N	I-OJ
 	x	N	N	O
-	x	N	N	O
 	x	N	N	O
Missa	eng	N	N	O
 	x	N	N	O
-	x	N	N	O
 	x	N	N	O
博客园	nr	N	N	O

	x	N	N	O

	x	N	N	O
约瑟夫	nrt	Y	N	B-KNOWLEDGE
环	v	N	N	I-KNOWLEDGE
问题	n	N	N	O

	x	N	N	O
http	eng	N	N	O
:	x	N	N	O
/	x	N	N	O
/	x	N	N	O
www	eng	N	N	O
.	m	N	N	O
cnblogs	eng	N	N	O
.	m	N	N	O
com	eng	N	N	O
/	x	N	N	O
alex4814	eng	N	N	O
/	x	N	N	O
archive	eng	N	N	O
/	x	N	N	O
2011	m	N	N	O
/	x	N	N	O
09	m	N	N	O
/	x	N	N	O
11	m	N	N	O
/	x	N	N	O
2173739.	m	N	N	O
html	eng	N	N	O

	x	N	N	O
约瑟夫	nrt	Y	N	O
问题	n	N	N	O
：	x	N	N	O

	x	N	N	O
用	p	N	N	O
数学方法	n	N	N	O
解	v	N	N	O
的	uj	N	N	O
时候	n	N	N	O
需要	v	N	N	O
注意	v	N	N	O
应当	v	N	N	O
从	p	N	N	O
0	m	N	N	O
开始	v	N	N	O
编号	n	N	N	O
，	x	N	N	O
因为	c	N	N	O
取余	v	N	N	O
会	v	N	N	O
等到	v	N	N	O
0	m	N	N	O
解	v	N	N	O
。	x	N	N	O


	x	N	N	O
实质	n	N	N	O
是	v	N	N	O
一个	m	N	N	O
递推	v	Y	N	O
，	x	N	N	O
n	x	N	N	O
个人	n	N	N	O
中	f	N	N	O
最终	d	N	N	O
存活	vn	N	N	O
下来	t	N	N	O
的	uj	N	N	O
序号	n	N	N	O
与	p	N	N	O
n	eng	N	N	O
-	x	N	N	O
1	x	N	N	O
个人	n	N	N	O
中	f	N	N	O
存活	vn	N	N	O
的	uj	N	N	O
人	n	N	N	O
的	uj	N	N	O
序号	n	N	N	O
有	v	N	N	O
一个	m	N	N	O
递推	v	Y	N	O
关系式	n	N	N	O
。	x	N	N	O


	x	N	N	O
分析	vn	N	N	O
：	x	N	N	O

	x	N	N	O
假设	vn	N	N	O
除去	t	N	N	O
第	m	N	N	O
k	eng	N	N	O
个人	n	N	N	O
。	x	N	N	O


	x	N	N	O
0	x	N	N	O
,	x	N	N	O
 	x	N	N	O
1	x	N	N	O
,	x	N	N	O
 	x	N	N	O
2	x	N	N	O
,	x	N	N	O
 	x	N	N	O
3	x	N	N	O
,	x	N	N	O
 	x	N	N	O
...	m	N	N	O
,	x	N	N	O
 	x	N	N	O
k	x	N	N	O
-	x	N	N	O
2	x	N	N	O
,	x	N	N	O
 	x	N	N	O
k	x	N	N	O
-	x	N	N	O
1	x	N	N	O
,	x	N	N	O
 	x	N	N	O
k	x	N	N	O
,	x	N	N	O
 	x	N	N	O
...	m	N	N	O
,	x	N	N	O
 	x	N	N	O
n	x	N	N	O
-	x	N	N	O
1	x	N	N	O
　	x	N	N	O
　	x	N	N	O
/	x	N	N	O
/	x	N	N	O
original	eng	N	N	O
 	x	N	N	O
sequence	eng	N	N	O
 	x	N	N	O
(	x	N	N	O
1	x	N	N	O
)	x	N	N	O

	x	N	N	O
0	x	N	N	O
,	x	N	N	O
 	x	N	N	O
1	x	N	N	O
,	x	N	N	O
 	x	N	N	O
2	x	N	N	O
,	x	N	N	O
 	x	N	N	O
3	x	N	N	O
,	x	N	N	O
 	x	N	N	O
...	m	N	N	O
,	x	N	N	O
 	x	N	N	O
k	x	N	N	O
-	x	N	N	O
2	x	N	N	O
,	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
,	x	N	N	O
 	x	N	N	O
k	x	N	N	O
,	x	N	N	O
 	x	N	N	O
...	m	N	N	O
,	x	N	N	O
 	x	N	N	O
n	x	N	N	O
-	x	N	N	O
1	x	N	N	O
　	x	N	N	O
　	x	N	N	O
/	x	N	N	O
/	x	N	N	O
get	eng	N	N	O
 	x	N	N	O
rid	eng	N	N	O
 	x	N	N	O
of	eng	N	N	O
 	x	N	N	O
kth	eng	N	N	O
 	x	N	N	O
person	eng	N	N	O
 	x	N	N	O
(	x	N	N	O
2	x	N	N	O
)	x	N	N	O

	x	N	N	O
k	x	N	N	O
,	x	N	N	O
 	x	N	N	O
k	eng	N	N	O
+	x	N	N	O
1	m	N	N	O
,	x	N	N	O
 	x	N	N	O
...	m	N	N	O
,	x	N	N	O
 	x	N	N	O
n	x	N	N	O
-	x	N	N	O
1	x	N	N	O
,	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
0	x	N	N	O
,	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
1	x	N	N	O
,	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
...	m	N	N	O
,	x	N	N	O
 	x	N	N	O
k	x	N	N	O
-	x	N	N	O
2	x	N	N	O
　	x	N	N	O
　	x	N	N	O
/	x	N	N	O
/	x	N	N	O
rearrange	eng	N	N	O
 	x	N	N	O
the	eng	N	N	O
 	x	N	N	O
sequence	eng	N	N	O
 	x	N	N	O
(	x	N	N	O
3	x	N	N	O
)	x	N	N	O

	x	N	N	O
0	x	N	N	O
,	x	N	N	O
 	x	N	N	O
1	x	N	N	O
,	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
...	m	N	N	O
,	x	N	N	O
 	x	N	N	O
n	x	N	N	O
-	x	N	N	O
k	x	N	N	O
-	x	N	N	O
1	x	N	N	O
,	x	N	N	O
 	x	N	N	O
n	x	N	N	O
-	x	N	N	O
k	x	N	N	O
,	x	N	N	O
 	x	N	N	O
n	x	N	N	O
-	x	N	N	O
k	eng	N	N	O
+	x	N	N	O
1	m	N	N	O
,	x	N	N	O
 	x	N	N	O
...	m	N	N	O
,	x	N	N	O
 	x	N	N	O
n	x	N	N	O
-	x	N	N	O
2	x	N	N	O
　	x	N	N	O
　	x	N	N	O
/	x	N	N	O
/	x	N	N	O
the	eng	N	N	O
 	x	N	N	O
n	x	N	N	O
-	x	N	N	O
1	x	N	N	O
 	x	N	N	O
person	eng	N	N	O
 	x	N	N	O
(	x	N	N	O
4	x	N	N	O
)	x	N	N	O

	x	N	N	O
我们	r	N	N	O
假设	vn	N	N	O
f	x	N	N	O
(	x	N	N	O
n	x	N	N	O
)	x	N	N	O
的	uj	N	N	O
值为	v	N	N	O
n	eng	N	N	O
个人	n	N	N	O
中	f	N	N	O
最后	f	N	N	O
存活	vn	N	N	O
的	uj	N	N	O
人	n	N	N	O
的	uj	N	N	O
序号	n	N	N	O
，	x	N	N	O
则	d	N	N	O

	x	N	N	O
注意	v	N	N	O
到	v	N	N	O
(	x	N	N	O
2	x	N	N	O
)	x	N	N	O
式	k	N	N	O
(	x	N	N	O
3	x	N	N	O
)	x	N	N	O
式	k	N	N	O
(	x	N	N	O
4	x	N	N	O
)	x	N	N	O
式	k	N	N	O
其实	d	N	N	O
是	v	N	N	O
同一个	b	N	N	O
序列	n	Y	N	O
。	x	N	N	O


	x	N	N	O
注意	v	N	N	O
(	x	N	N	O
1	x	N	N	O
)	x	N	N	O
式	k	N	N	O
和	c	N	N	O
(	x	N	N	O
4	x	N	N	O
)	x	N	N	O
式	k	N	N	O
，	x	N	N	O
是	v	N	N	O
同一个	b	N	N	O
问题	n	N	N	O
，	x	N	N	O
不同	a	N	N	O
的	uj	N	N	O
仅仅	d	N	N	O
是	v	N	N	O
人数	n	N	N	O
。	x	N	N	O


	x	N	N	O
假设	vn	N	N	O
我们	r	N	N	O
已知	v	N	N	O
f	x	N	N	O
(	x	N	N	O
n	x	N	N	O
-	x	N	N	O
1	x	N	N	O
)	x	N	N	O
，	x	N	N	O
即	v	N	N	O
(	x	N	N	O
4	x	N	N	O
)	x	N	N	O
式	k	N	N	O
中	f	N	N	O
最后	f	N	N	O
剩下	v	N	N	O
的	uj	N	N	O
人	n	N	N	O
的	uj	N	N	O
序号	n	N	N	O
，	x	N	N	O
则	d	N	N	O
(	x	N	N	O
3	x	N	N	O
)	x	N	N	O
式	k	N	N	O
所	u	N	N	O
对应	vn	N	N	O
的	uj	N	N	O
序号	n	N	N	O
，	x	N	N	O
就是	d	N	N	O
f	x	N	N	O
(	x	N	N	O
n	x	N	N	O
)	x	N	N	O
，	x	N	N	O
即	v	N	N	O
(	x	N	N	O
1	x	N	N	O
)	x	N	N	O
式	k	N	N	O
n	eng	N	N	O
个人	n	N	N	O
中	f	N	N	O
最后	f	N	N	O
存活	vn	N	N	O
的	uj	N	N	O
序号	n	N	N	O
。	x	N	N	O


	x	N	N	O
而	c	N	N	O
从	p	N	N	O
(	x	N	N	O
3	x	N	N	O
)	x	N	N	O
(	x	N	N	O
4	x	N	N	O
)	x	N	N	O
式	k	N	N	O
中	f	N	N	O
我们	r	N	N	O
不难	d	N	N	O
发现	v	N	N	O
有	v	N	N	O
这样	r	N	N	O
一个	m	N	N	O
递推	v	Y	N	O
式	k	N	N	O
：	x	N	N	O

	x	N	N	O
f	x	N	N	O
(	x	N	N	O
n	x	N	N	O
)	x	N	N	O
 	x	N	N	O
=	x	N	N	O
 	x	N	N	O
(	x	N	N	O
f	x	N	N	O
(	x	N	N	O
n	x	N	N	O
-	x	N	N	O
1	x	N	N	O
)	x	N	N	O
 	x	N	N	O
+	x	N	N	O
 	x	N	N	O
k	x	N	N	O
)	x	N	N	O
 	x	N	N	O
%	x	N	N	O
 	x	N	N	O
n	x	N	N	O

	x	N	N	O
显然	ad	N	N	O
，	x	N	N	O
f	x	N	N	O
(	x	N	N	O
1	x	N	N	O
)	x	N	N	O
 	x	N	N	O
=	x	N	N	O
 	x	N	N	O
0	x	N	N	O
。	x	N	N	O


	x	N	N	O
于是	c	N	N	O
递推	v	Y	N	O
得	ud	N	N	O
f	eng	N	N	O
(	x	N	N	O
n	x	N	N	O
)	x	N	N	O

	x	N	N	O
 	x	N	N	O

	x	N	N	O

	x	N	N	O
 	x	N	N	O

	x	N	N	O
 	x	N	N	O

	x	N	N	O
 	x	N	N	O
View	eng	N	N	O
 	x	N	N	O
Code	eng	N	N	O
 	x	N	N	O
 	x	N	N	O

	x	N	N	O
 	x	N	N	O
 	x	N	N	O

	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
1	x	N	N	O
 	x	N	N	O
/	x	N	N	O
/	x	N	N	O
 	x	N	N	O
File	eng	N	N	O
 	x	N	N	O
Name	eng	N	N	O
:	x	N	N	O
 	x	N	N	O
3517.	m	N	N	O
cpp	eng	N	N	O

	x	N	N	O
 	x	N	N	O
2	x	N	N	O
 	x	N	N	O
/	x	N	N	O
/	x	N	N	O
 	x	N	N	O
Author	eng	N	N	O
:	x	N	N	O
 	x	N	N	O
Missa	eng	N	N	O

	x	N	N	O
 	x	N	N	O
3	x	N	N	O
 	x	N	N	O
/	x	N	N	O
/	x	N	N	O
 	x	N	N	O
Created	eng	N	N	O
 	x	N	N	O
Time	eng	N	N	O
:	x	N	N	O
 	x	N	N	O
2013	m	N	N	O
/	x	N	N	O
2	x	N	N	O
/	x	N	N	O
15	m	N	N	O
 	x	N	N	O
星期五	t	N	N	O
 	x	N	N	O
20	m	N	N	O
:	x	N	N	O
22	m	N	N	O
:	x	N	N	O
11	m	N	N	O

	x	N	N	O
 	x	N	N	O
4	x	N	N	O
 	x	N	N	O

	x	N	N	O
 	x	N	N	O
5	x	N	N	O
 	x	N	N	O
#	x	N	N	O
include	eng	N	N	O
<	x	N	N	O
iostream	eng	N	N	O
>	x	N	N	O

	x	N	N	O
 	x	N	N	O
6	x	N	N	O
 	x	N	N	O
#	x	N	N	O
include	eng	N	N	O
<	x	N	N	O
cstdio	eng	N	N	O
>	x	N	N	O

	x	N	N	O
 	x	N	N	O
7	x	N	N	O
 	x	N	N	O
#	x	N	N	O
include	eng	N	N	O
<	x	N	N	O
cstring	eng	N	N	O
>	x	N	N	O

	x	N	N	O
 	x	N	N	O
8	x	N	N	O
 	x	N	N	O
#	x	N	N	O
include	eng	N	N	O
<	x	N	N	O
algorithm	eng	N	N	O
>	x	N	N	O

	x	N	N	O
 	x	N	N	O
9	x	N	N	O
 	x	N	N	O
#	x	N	N	O
include	eng	N	N	O
<	x	N	N	O
cmath	eng	N	N	O
>	x	N	N	O

	x	N	N	O
10	m	N	N	O
 	x	N	N	O
#	x	N	N	O
include	eng	N	N	O
<	x	N	N	O
queue	eng	N	N	O
>	x	N	N	O

	x	N	N	O
11	m	N	N	O
 	x	N	N	O
#	x	N	N	O
include	eng	N	N	O
<	x	N	N	O
stack	eng	N	N	O
>	x	N	N	O

	x	N	N	O
12	m	N	N	O
 	x	N	N	O
#	x	N	N	O
include	eng	N	N	O
<	x	N	N	O
string	eng	N	N	O
>	x	N	N	O

	x	N	N	O
13	m	N	N	O
 	x	N	N	O
#	x	N	N	O
include	eng	N	N	O
<	x	N	N	O
vector	eng	N	N	O
>	x	N	N	O

	x	N	N	O
14	m	N	N	O
 	x	N	N	O
#	x	N	N	O
include	eng	N	N	O
<	x	N	N	O
cstdlib	eng	N	N	O
>	x	N	N	O

	x	N	N	O
15	m	N	N	O
 	x	N	N	O
#	x	N	N	O
include	eng	N	N	O
<	x	N	N	O
map	eng	N	N	O
>	x	N	N	O

	x	N	N	O
16	m	N	N	O
 	x	N	N	O
#	x	N	N	O
include	eng	N	N	O
<	x	N	N	O
set	eng	N	N	O
>	x	N	N	O

	x	N	N	O
17	m	N	N	O
 	x	N	N	O
using	eng	N	N	O
 	x	N	N	O
namespace	eng	N	N	O
 	x	N	N	O
std	eng	N	N	O
;	x	N	N	O

	x	N	N	O
18	m	N	N	O
 	x	N	N	O
#	x	N	N	O
define	eng	N	N	O
 	x	N	N	O
CL	eng	N	N	O
(	x	N	N	O
x	x	N	N	O
,	x	N	N	O
v	x	N	N	O
)	x	N	N	O
 	x	N	N	O
memset	eng	N	N	O
(	x	N	N	O
x	x	N	N	O
,	x	N	N	O
v	x	N	N	O
,	x	N	N	O
sizeof	eng	N	N	O
(	x	N	N	O
x	x	N	N	O
)	x	N	N	O
)	x	N	N	O
;	x	N	N	O

	x	N	N	O
19	m	N	N	O
 	x	N	N	O

	x	N	N	O
20	m	N	N	O
 	x	N	N	O
int	eng	N	N	O
 	x	N	N	O
n	x	N	N	O
,	x	N	N	O
k	x	N	N	O
,	x	N	N	O
m	x	N	N	O
;	x	N	N	O

	x	N	N	O
21	m	N	N	O
 	x	N	N	O

	x	N	N	O
22	m	N	N	O
 	x	N	N	O
int	eng	N	N	O
 	x	N	N	O
main	eng	N	N	O
(	x	N	N	O
)	x	N	N	O

	x	N	N	O
23	m	N	N	O
 	x	N	N	O
{	x	N	N	O

	x	N	N	O
24	m	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
while	eng	N	N	O
(	x	N	N	O
~	x	N	N	O
scanf	eng	N	N	O
(	x	N	N	O
"	x	N	N	O
%	x	N	N	O
d	x	N	N	O
%	x	N	N	O
d	x	N	N	O
%	x	N	N	O
d	x	N	N	O
"	x	N	N	O
,	x	N	N	O
&	x	N	N	O
n	eng	N	N	O
,	x	N	N	O
&	x	N	N	O
k	eng	N	N	O
,	x	N	N	O
&	x	N	N	O
m	eng	N	N	O
)	x	N	N	O
)	x	N	N	O

	x	N	N	O
25	m	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
{	x	N	N	O

	x	N	N	O
26	m	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
if	eng	N	N	O
(	x	N	N	O
n	x	N	N	O
=	x	N	N	O
=	x	N	N	O
0	x	N	N	O
)	x	N	N	O
 	x	N	N	O
break	eng	N	N	O
;	x	N	N	O

	x	N	N	O
27	m	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
int	eng	N	N	O
 	x	N	N	O
x	x	N	N	O
=	x	N	N	O
0	x	N	N	O
,	x	N	N	O
i	x	N	N	O
=	x	N	N	O
2	x	N	N	O
;	x	N	N	O

	x	N	N	O
28	m	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
for	eng	Y	N	O
(	x	N	N	O
;	x	N	N	O
i	x	N	N	O
<	x	N	N	O
n	x	N	N	O
;	x	N	N	O
i	eng	N	N	O
++	x	N	N	O
)	x	N	N	O

	x	N	N	O
29	m	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
x	x	N	N	O
=	x	N	N	O
(	x	N	N	O
x	eng	N	N	O
+	x	N	N	O
k	eng	N	N	O
)	x	N	N	O
%	x	N	N	O
i	x	N	N	O
;	x	N	N	O

	x	N	N	O
30	m	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
x	x	N	N	O
=	x	N	N	O
(	x	N	N	O
x	eng	N	N	O
+	x	N	N	O
m	eng	N	N	O
)	x	N	N	O
%	x	N	N	O
i	eng	N	N	O
+	x	N	N	O
1	m	N	N	O
;	x	N	N	O

	x	N	N	O
31	m	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
printf	eng	N	N	O
(	x	N	N	O
"	x	N	N	O
%	x	N	N	O
d	x	N	N	O
\	x	N	N	O
n	x	N	N	O
"	x	N	N	O
,	x	N	N	O
x	x	N	N	O
)	x	N	N	O
;	x	N	N	O

	x	N	N	O
32	m	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
}	x	N	N	O

	x	N	N	O
33	m	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
return	eng	N	N	O
 	x	N	N	O
0	x	N	N	O
;	x	N	N	O

	x	N	N	O
34	m	N	N	O
 	x	N	N	O
}	x	N	N	O
 	x	N	N	O

	x	N	N	O
 	x	N	N	O
 	x	N	N	O

	x	N	N	O
 	x	N	N	O

	x	N	N	O

	x	N	N	O