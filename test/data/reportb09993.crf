poj	eng	N	Y	B-OJ
 	x	N	N	I-OJ
1351	m	N	N	I-OJ
 	x	N	N	O
Number	eng	N	N	O
 	x	N	N	O
of	eng	N	N	O
 	x	N	N	O
locks	eng	N	N	O
 	x	N	N	O
-	x	N	N	O
 	x	N	N	O
scorpiocj	eng	N	N	O
的	uj	N	N	O
专栏	n	N	N	O
 	x	N	N	O
-	x	N	N	O
 	x	N	N	O
博客	nr	N	N	O
频道	n	N	N	O
 	x	N	N	O
-	x	N	N	O
 	x	N	N	O
CSDN	eng	N	N	O
.	m	N	N	O
NET	eng	N	N	O

	x	N	N	O

	x	N	N	O
dp	eng	Y	N	O
[	x	N	N	O
i	x	N	N	O
]	x	N	N	O
[	x	N	N	O
j	x	N	N	O
]	x	N	N	O
[	x	N	N	O
k	x	N	N	O
]	x	N	N	O
[	x	N	N	O
s	x	N	N	O
]	x	N	N	O
表示	v	Y	N	O
当前	t	N	N	O
到	v	N	N	O
第	m	N	N	O
i	eng	N	N	O
把	p	N	N	O
锁	v	N	N	O
,	x	N	N	O
高度	n	Y	N	O
为	p	N	N	O
j	eng	N	N	O
,	x	N	N	O
是否	v	N	N	O
出现	v	N	N	O
高度	n	Y	N	O
差	a	N	N	O
为	p	N	N	O
3	m	N	N	O
（	x	N	N	O
k	x	N	N	O
=	x	N	N	O
1	x	N	N	O
表示	v	Y	N	O
出现	v	N	N	O
过	ug	N	N	O
，	x	N	N	O
0	x	N	N	O
表示	v	Y	N	O
没有	v	N	N	O
出现	v	N	N	O
过	ug	N	N	O
)	x	N	N	O
,	x	N	N	O
使用	v	N	N	O
高度	n	Y	N	O
的	uj	N	N	O
种数	n	N	N	O
为	p	N	N	O
s	eng	N	N	O
的	uj	N	N	O
方案	n	N	N	O
数	n	N	N	O

	x	N	N	O
类似	v	N	N	O
于	p	N	N	O
按位	n	N	N	O
DP	eng	N	N	B-KNOWLEDGE
的	uj	N	N	O
思想	n	Y	N	O
，	x	N	N	O
记忆	n	Y	N	O
化	n	N	N	O
求解	v	N	N	O

	x	N	N	O
dfs	eng	Y	N	B-KNOWLEDGE
的	uj	N	N	O
时候	n	N	N	O
枚举	nz	Y	N	O
第	m	N	N	O
i	eng	N	N	O
+	x	N	N	O
1	m	N	N	O
位	v	N	N	O
选择	v	N	N	O
的	uj	N	N	O
高度	n	Y	N	O
，	x	N	N	O
并	c	N	N	O
和	c	N	N	O
当前	t	N	N	O
s	x	N	N	O
状态	n	Y	N	O
比较	d	N	N	O
，	x	N	N	O
记录	n	Y	N	O
出现	v	N	N	O
高度	n	Y	N	O
的	uj	N	N	O
种数	n	N	N	O

	x	N	N	O
代码	n	N	N	O
：	x	N	N	O

	x	N	N	O

	x	N	N	O
#	x	N	N	O
include	eng	N	N	O
<	x	N	N	O
iostream	eng	N	N	O
>	x	N	N	O

	x	N	N	O
#	x	N	N	O
include	eng	N	N	O
<	x	N	N	O
memory	eng	N	N	O
.	m	N	N	O
h	eng	N	N	O
>	x	N	N	O

	x	N	N	O
#	x	N	N	O
include	eng	N	N	O
<	x	N	N	O
string	eng	N	N	O
>	x	N	N	O

	x	N	N	O
#	x	N	N	O
include	eng	N	N	O
<	x	N	N	O
cstdio	eng	N	N	O
>	x	N	N	O

	x	N	N	O
#	x	N	N	O
include	eng	N	N	O
<	x	N	N	O
algorithm	eng	N	N	O
>	x	N	N	O

	x	N	N	O
#	x	N	N	O
include	eng	N	N	O
<	x	N	N	O
math	eng	N	N	O
.	m	N	N	O
h	eng	N	N	O
>	x	N	N	O

	x	N	N	O
#	x	N	N	O
include	eng	N	N	O
<	x	N	N	O
stack	eng	N	N	O
>	x	N	N	O

	x	N	N	O
#	x	N	N	O
include	eng	N	N	O
<	x	N	N	O
queue	eng	N	N	O
>	x	N	N	O

	x	N	N	O
#	x	N	N	O
include	eng	N	N	O
<	x	N	N	O
vector	eng	N	N	O
>	x	N	N	O

	x	N	N	O
#	x	N	N	O
include	eng	N	N	O
<	x	N	N	O
map	eng	N	N	O
>	x	N	N	O

	x	N	N	O
#	x	N	N	O
include	eng	N	N	O
<	x	N	N	O
ctime	eng	N	N	O
>	x	N	N	O

	x	N	N	O
using	eng	N	N	O
 	x	N	N	O
namespace	eng	N	N	O
 	x	N	N	O
std	eng	N	N	O
;	x	N	N	O

	x	N	N	O
long	eng	N	N	O
 	x	N	N	O
long	eng	N	N	O
 	x	N	N	O
dp	eng	Y	N	O
[	x	N	N	O
50	m	N	N	O
]	x	N	N	O
[	x	N	N	O
5	x	N	N	O
]	x	N	N	O
[	x	N	N	O
2	x	N	N	O
]	x	N	N	O
[	x	N	N	O
4	x	N	N	O
]	x	N	N	O
;	x	N	N	O

	x	N	N	O
int	eng	N	N	O
 	x	N	N	O
n	x	N	N	O
;	x	N	N	O

	x	N	N	O
long	eng	N	N	O
 	x	N	N	O
long	eng	N	N	O
 	x	N	N	O
dfs	eng	Y	N	O
(	x	N	N	O
int	eng	N	N	O
 	x	N	N	O
i	x	N	N	O
,	x	N	N	O
int	eng	N	N	O
 	x	N	N	O
now	eng	N	N	O
,	x	N	N	O
int	eng	N	N	O
 	x	N	N	O
j	x	N	N	O
,	x	N	N	O
int	eng	N	N	O
 	x	N	N	O
s	x	N	N	O
,	x	N	N	O
int	eng	N	N	O
 	x	N	N	O
m	x	N	N	O
)	x	N	N	O

	x	N	N	O
{	x	N	N	O

	x	N	N	O
 	x	N	N	O
if	eng	N	N	O
(	x	N	N	O
i	x	N	N	O
>	x	N	N	O
=	x	N	N	O
n	x	N	N	O
)	x	N	N	O

	x	N	N	O
 	x	N	N	O
{	x	N	N	O

	x	N	N	O
 	x	N	N	O
 	x	N	N	O
if	eng	N	N	O
(	x	N	N	O
j	eng	N	N	O
&&	x	N	N	O
m	eng	N	N	O
>	x	N	N	O
=	x	N	N	O
3	x	N	N	O
)	x	N	N	O

	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
return	eng	N	N	O
 	x	N	N	O
1	x	N	N	O
;	x	N	N	O

	x	N	N	O
 	x	N	N	O
 	x	N	N	O
else	eng	N	N	O
 	x	N	N	O

	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
return	eng	N	N	O
 	x	N	N	O
0	x	N	N	O
;	x	N	N	O

	x	N	N	O
 	x	N	N	O
}	x	N	N	O

	x	N	N	O
 	x	N	N	O
if	eng	N	N	O
(	x	N	N	O
dp	eng	Y	N	O
[	x	N	N	O
i	x	N	N	O
]	x	N	N	O
[	x	N	N	O
now	eng	N	N	O
]	x	N	N	O
[	x	N	N	O
j	x	N	N	O
]	x	N	N	O
[	x	N	N	O
m	x	N	N	O
]	x	N	N	O
!	x	N	N	O
=	x	N	N	O
-	x	N	N	O
1	x	N	N	O
)	x	N	N	O

	x	N	N	O
 	x	N	N	O
 	x	N	N	O
return	eng	N	N	O
 	x	N	N	O
dp	eng	Y	N	O
[	x	N	N	O
i	x	N	N	O
]	x	N	N	O
[	x	N	N	O
now	eng	N	N	O
]	x	N	N	O
[	x	N	N	O
j	x	N	N	O
]	x	N	N	O
[	x	N	N	O
m	x	N	N	O
]	x	N	N	O
;	x	N	N	O

	x	N	N	O
 	x	N	N	O
long	eng	N	N	O
 	x	N	N	O
long	eng	N	N	O
 	x	N	N	O
ans	eng	N	N	O
=	x	N	N	O
0	x	N	N	O
;	x	N	N	O

	x	N	N	O
 	x	N	N	O
int	eng	N	N	O
 	x	N	N	O
tmp	eng	N	N	O
;	x	N	N	O

	x	N	N	O
 	x	N	N	O
for	eng	Y	N	O
(	x	N	N	O
int	eng	N	N	O
 	x	N	N	O
k	x	N	N	O
=	x	N	N	O
1	x	N	N	O
;	x	N	N	O
k	x	N	N	O
<	x	N	N	O
=	x	N	N	O
4	x	N	N	O
;	x	N	N	O
k	eng	N	N	O
++	x	N	N	O
)	x	N	N	O

	x	N	N	O
 	x	N	N	O
{	x	N	N	O

	x	N	N	O
 	x	N	N	O
 	x	N	N	O
if	eng	N	N	O
(	x	N	N	O
(	x	N	N	O
s	eng	N	N	O
&	x	N	N	O
(	x	N	N	O
1	x	N	N	O
<	x	N	N	O
<	x	N	N	O
(	x	N	N	O
k	x	N	N	O
-	x	N	N	O
1	x	N	N	O
)	x	N	N	O
)	x	N	N	O
)	x	N	N	O
=	x	N	N	O
=	x	N	N	O
0	x	N	N	O
)	x	N	N	O

	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
tmp	eng	N	N	O
=	x	N	N	O
m	eng	N	N	O
+	x	N	N	O
1	m	N	N	O
;	x	N	N	O

	x	N	N	O
 	x	N	N	O
 	x	N	N	O
else	eng	N	N	O

	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
tmp	eng	N	N	O
=	x	N	N	O
m	x	N	N	O
;	x	N	N	O

	x	N	N	O
 	x	N	N	O
 	x	N	N	O
if	eng	N	N	O
(	x	N	N	O
tmp	eng	N	N	O
>	x	N	N	O
3	x	N	N	O
)	x	N	N	O

	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
tmp	eng	N	N	O
=	x	N	N	O
3	x	N	N	O
;	x	N	N	O

	x	N	N	O
 	x	N	N	O
 	x	N	N	O
ans	eng	N	N	O
+	x	N	N	O
=	x	N	N	O
dfs	eng	Y	N	O
(	x	N	N	O
i	eng	N	N	O
+	x	N	N	O
1	m	N	N	O
,	x	N	N	O
k	x	N	N	O
,	x	N	N	O
(	x	N	N	O
now	eng	N	N	O
!	x	N	N	O
=	x	N	N	O
0	m	N	N	O
&&	x	N	N	O
abs	eng	N	N	O
(	x	N	N	O
k	x	N	N	O
-	x	N	N	O
now	eng	N	N	O
)	x	N	N	O
=	x	N	N	O
=	x	N	N	O
3	x	N	N	O
)	x	N	N	O
|	x	N	N	O
|	x	N	N	O
j	x	N	N	O
,	x	N	N	O
s	x	N	N	O
|	x	N	N	O
(	x	N	N	O
1	x	N	N	O
<	x	N	N	O
<	x	N	N	O
(	x	N	N	O
k	x	N	N	O
-	x	N	N	O
1	x	N	N	O
)	x	N	N	O
)	x	N	N	O
,	x	N	N	O
tmp	eng	N	N	O
)	x	N	N	O
;	x	N	N	O

	x	N	N	O
 	x	N	N	O
}	x	N	N	O

	x	N	N	O
 	x	N	N	O
dp	eng	Y	N	O
[	x	N	N	O
i	x	N	N	O
]	x	N	N	O
[	x	N	N	O
now	eng	N	N	O
]	x	N	N	O
[	x	N	N	O
j	x	N	N	O
]	x	N	N	O
[	x	N	N	O
m	x	N	N	O
]	x	N	N	O
=	x	N	N	O
ans	eng	N	N	O
;	x	N	N	O

	x	N	N	O
 	x	N	N	O
return	eng	N	N	O
 	x	N	N	O
ans	eng	N	N	O
;	x	N	N	O

	x	N	N	O
}	x	N	N	O

	x	N	N	O
int	eng	N	N	O
 	x	N	N	O
main	eng	N	N	O
(	x	N	N	O
)	x	N	N	O

	x	N	N	O
{	x	N	N	O

	x	N	N	O
 	x	N	N	O
int	eng	N	N	O
 	x	N	N	O
i	x	N	N	O
,	x	N	N	O
j	x	N	N	O
;	x	N	N	O

	x	N	N	O
 	x	N	N	O
while	eng	N	N	O
(	x	N	N	O
scanf	eng	N	N	O
(	x	N	N	O
"	x	N	N	O
%	x	N	N	O
d	x	N	N	O
"	x	N	N	O
,	x	N	N	O
&	x	N	N	O
n	eng	N	N	O
)	x	N	N	O
!	x	N	N	O
=	x	N	N	O
EOF	eng	N	N	O
)	x	N	N	O

	x	N	N	O
 	x	N	N	O
{	x	N	N	O

	x	N	N	O
 	x	N	N	O
 	x	N	N	O
if	eng	N	N	O
(	x	N	N	O
n	x	N	N	O
=	x	N	N	O
=	x	N	N	O
-	x	N	N	O
1	x	N	N	O
)	x	N	N	O

	x	N	N	O
 	x	N	N	O
 	x	N	N	O
 	x	N	N	O
break	eng	N	N	O
;	x	N	N	O

	x	N	N	O
 	x	N	N	O
 	x	N	N	O
memset	eng	N	N	O
(	x	N	N	O
dp	eng	Y	N	O
,	x	N	N	O
-	x	N	N	O
1	x	N	N	O
,	x	N	N	O
sizeof	eng	N	N	O
(	x	N	N	O
dp	eng	Y	N	O
)	x	N	N	O
)	x	N	N	O
;	x	N	N	O

	x	N	N	O
 	x	N	N	O
 	x	N	N	O
dfs	eng	Y	N	O
(	x	N	N	O
0	x	N	N	O
,	x	N	N	O
0	x	N	N	O
,	x	N	N	O
0	x	N	N	O
,	x	N	N	O
0	x	N	N	O
,	x	N	N	O
0	x	N	N	O
)	x	N	N	O
;	x	N	N	O

	x	N	N	O
 	x	N	N	O
 	x	N	N	O
printf	eng	N	N	O
(	x	N	N	O
"	x	N	N	O
%	x	N	N	O
d	x	N	N	O
:	x	N	N	O
 	x	N	N	O
%	x	N	N	O
lld	eng	N	N	O
\	x	N	N	O
n	x	N	N	O
"	x	N	N	O
,	x	N	N	O
n	x	N	N	O
,	x	N	N	O
dp	eng	Y	N	O
[	x	N	N	O
0	x	N	N	O
]	x	N	N	O
[	x	N	N	O
0	x	N	N	O
]	x	N	N	O
[	x	N	N	O
0	x	N	N	O
]	x	N	N	O
[	x	N	N	O
0	x	N	N	O
]	x	N	N	O
)	x	N	N	O
;	x	N	N	O

	x	N	N	O
 	x	N	N	O
}	x	N	N	O

	x	N	N	O
 	x	N	N	O
return	eng	N	N	O
 	x	N	N	O
0	x	N	N	O
;	x	N	N	O

	x	N	N	O
}	x	N	N	O

	x	N	N	O

	x	N	N	O